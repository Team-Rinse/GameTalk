# 💬 GameTalk
**실시간 채팅과 미니 게임을 제공하는 Java 기반 데스크톱 애플리케이션: GameTalk**
<br> <br>
## 🖥️ 프로젝트 소개
이 애플리케이션은 **채팅**과 간단한 **미니 게임**(레이싱 게임, 캐치마인드 게임 등)을 함께 즐길 수 있도록 구현된 Java 기반 데스크톱 프로그램입니다.
클라이언트는 **Java Swing GUI**를 통해 카카오톡과 유사한 형식의 UI를 제공하며, 사용자는 채팅방을 생성하여 그림 그리기 게임(캐치마인드)나 간단한 달리기 게임(레이싱 게임)을 즐길 수 있습니다.
또한, 미니게임에서 승자는 포인트를 받고, 이를 사용해 이모티콘을 구매할 수 있습니다.

클라이언트는 다음과 같은 화면으로 구성되어 있습니다.

- **메인 화면**: 내 프로필 정보(이름, 상태 메시지, 프로필 이미지)와 친구 목록(현재 접속 사용자) 확인, 친구와의 새로운 채팅 생성
- **채팅 목록 화면**: 참여 중인 채팅방 목록 확인 및 개별 채팅방 입장
- **채팅방 화면**: 실제 대화가 이루어지는 채팅방 UI, 하단의 게임 버튼을 통해 미니게임 플레이 가능
- **더보기 화면**: 포인트 조회 및 이모티콘 구매
- **이모티콘 구매창**: 이모티콘 샵에서 포인트를 사용하여 구매
- **내 프로필 화면**: 내 프로필(이름, 이미지, 상태 메시지) 수정

**서버**는 여러 클라이언트 소켓의 연결을 받고, 클라이언트 간 메시지 중계 및 게임 동기화 로직을 수행합니다.

<br>

## 🕰️ 개발 기간
* 24.11.14 - 24.12.20 (5주)
<br>

 ## ⚙️ 개발 환경
- **Programming Language** : Java
- **IDE** : Eclipse
- **GUI Library** : Java Swing
- **Server** : Java Socket, ServerSocket

<br>

## ✨ 주요 기능 
### 💬 채팅 기능
#### 사용자 목록 관리 & 프로필 업데이트
- 서버는 접속/퇴장한 사용자를 실시간으로 관리하며, 모든 클라이언트에게 브로드캐스팅
- 각 유저는 프로필 이미지와 상태 메시지를 변경할 수 있으며, 변경 시 전체 클라이언트에 갱신 내용 전송
  
#### 채팅방 생성 및 초대
- 사용자는 친구 목록(접속 사용자 목록)에서 복수 선택 후 “Create Chat” 버튼을 눌러 새 채팅방을 생성할 수 있음
- 채팅방 식별자(Chat ID)가 서버에서 생성되며, 참가자 전원에게 채팅방 생성 알림 전송

#### 메시지 송수신
- 텍스트 메시지: CHAT_MESSAGE 프로토콜로 전송
- 이모티콘 전송: 바이트 배열로 읽어 CHAT_MESSAGE의 IMAGE 타입으로 전송
- 채팅방 참여자들에게만 메세지(텍스트/이미지)가 전송
  
#### 채팅방 입장 및 퇴장
- 참여자는 기존 채팅방 리스트를 클릭하여 재입장 가능
- 사용자가 “EXIT” 버튼 등을 통해 채팅방에서 나가면, 나머지 인원들에게 “USER_LEAVE_CHAT” 알림

### 🎮 게임 기능
#### 레이싱 게임 (RacingGame)
- 레디(Ready) 상태
  - 채팅방에서 레이싱 게임을 시작하면, 각 참가자에게 “Ready” 버튼이 표시됨
  - 모두 준비 완료 시 카운트다운이 진행, 게임 시작(RACE_START)
    
- 사용자 움직임
  - 사용자가 MOVE 버튼을 누르면 서버에 “MOVE” 명령 전송
  - 서버는 해당 플레이어의 위치를 이동시키고, 모든 클라이언트에 갱신된 위치 전달
  - 목표 지점에 도달하면 우승자 판별 및 게임 종료(RACE_END)
    
- 포인트 부여
  - 우승자에게 100 포인트를 부여하고, 서버가 “POINTS_UPDATED” 이벤트로 클라이언트에 알림
 
  
#### 그림 그리기 게임 (Catchmind)

- 레디(Ready) 상태
  - 채팅방에서 그림 그리기 게임(캐치마인드)을 시작하면, 각 참가자에게 “Ready” 버튼이 표시됨
  - 모두 준비 완료 시 서버가 랜덤 출제자를 선정, 랜덤 단어를 출제
    
- 출제자/정답자 로직
  - 출제자는 그림을 그릴 수 있는 “DRAWER” 모드를 부여받음
  - 다른 참가자들은 “VIEW_ONLY” 모드로 캔버스에 그릴 수 없으며, 정답 제출 가능
    
- 정답 판별
  - “CATCHMIND_ANSWER_ATTEMPT” 프로토콜로 시도한 답안을 서버가 정답과 대조
  - 정답이 맞으면 해당 사용자에게 포인트 지급, 게임 종료(CATCHMIND_END)
  - 타이머(1분) 초과 시 출제자에게 포인트 부여 후 종료
    
- 캔버스 동기화
  - 출제자는 마우스 드래그 이벤트 시 서버에 좌표 전송(DRAW_EVENT)
  - 나머지 클라이언트는 해당 좌표로 선을 그림
  - 캔버스 전체 초기화 시 서버가 “RESET_CANVAS” 브로드캐스팅
 
  
### 😀 이모티콘 샵 
#### 포인트 
  - 게임 승리 시 획득한 포인트로 이모티콘을 구매
  - 각 이모티콘은 정해진 가격이 있으며, 보유 포인트와 비교하여 구매 가능 여부 결정
    
#### 이모티콘 구매
  - 구매 후 재고(개수)가 늘어나며, 실제 채팅방에서 이모티콘 전송 시 해당 재고를 1씩 소모

#### 이모티콘 보관함
  - 사용자가 구매한 이모티콘 목록과 개수 확인 가능

<br>

## 🚀 시연 영상
[GameTalk](https://drive.google.com/file/d/1tKx79EyN5llfWv7cMwAy8NO98CjxP5PA/view?usp=share_link)

